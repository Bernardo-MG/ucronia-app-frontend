<div uiResponsiveShortColumns>
  @if (editing) {
    <!-- Form -->
    <p-card>
      <assoc-transaction-form [waiting]="waiting" [readonly]="!formEnabled" [data]="data" [failures]="failures"
        [cancellable]="true" (save)="onSave($event)" (reject)="onCancel()" />
    </p-card>
  }@else {
    <!-- Info -->
    <p-card>
      <ng-template #title>
        @if (waiting) {
          <p-skeleton height="2rem" class="mb-2" />
        } @else {
          <h2># {{data.index}}</h2>
        }
      </ng-template>
      <!-- Description -->
      <div class="row">
        <div class="col-sm-3 text-primary">Description</div>
        <div class="col-sm-9">
          @if (waiting) {
            <p-skeleton class="mb-2" />
          } @else {
            {{data.description}}
          }
        </div>
      </div>
      <!-- Date -->
      <div class="row">
        <div class="col-sm-3 text-primary">Fecha</div>
        <div class="col-sm-9">
          @if (waiting) {
            <p-skeleton class="mb-2" />
          } @else {
            {{data.date}}
          }
        </div>
      </div>
      <!-- Amount -->
      <div class="row">
        <div class="col-sm-3 text-primary">Importe</div>
        <div class="col-sm-9">
          @if (waiting) {
            <p-skeleton class="mb-2" />
          } @else {
            {{data.amount}}
          }
        </div>
      </div>
      <ng-template #footer>
        <div>
          <form-control-buttons [editable]="editable" [deletable]="deletable" [disabled]="waiting"
            (startEditing)="onStartEditing()" (delete)="onDelete()" />
        </div>
      </ng-template>
    </p-card>
  }
</div>