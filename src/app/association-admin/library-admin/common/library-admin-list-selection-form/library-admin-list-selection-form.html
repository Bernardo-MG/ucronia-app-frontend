@switch (selecting) {
  @case (false) {
    <form [formGroup]="form" (ngSubmit)="onSave()" class="needs-validation" novalidate>
      <!-- Donors -->
      <div class="row mb-2">
        <div class="col-sm-12">
          <h2>Autores</h2>
        </div>
        <div class="col-sm-12">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">
                </th>
                <th scope="col">
                  Nombre
                </th>
              </tr>
            </thead>
            <tbody class="table-group-divider">
              @for (row of rows; track row; let i = $index) {
              <tr>
                <td>
                  <button (click)="onRemove(row)" [disabled]="!formEnabled" type="button" class="btn btn-link link-dark"
                    role="button" aria-label="Remove author">
                    <icon-delete />
                  </button>
                </td>
                <td>{{nameRenderer(row)}}</td>
              </tr>
              }
            </tbody>
          </table>
        </div>
        <div uiJustifyCenter>
          <button (click)="onStartSelecting()" type="button" class="btn btn-primary" [disabled]="!formEnabled"
            aria-label="Add donor"><icon-add /></button>
        </div>
      </div>
      <!-- Save controls -->
      <div uiJustifyBetween>
        <!-- Save button -->
        <p-button type="submit" name="Guardar" [disabled]="!saveEnabled"
          [attr.aria-disabled]="!saveEnabled">Guardar</p-button>
        <!-- Cancel button -->
        <p-button type="button" severity="danger" name="Cancelar" [disabled]="!cancelEnabled"
          [attr.aria-disabled]="!cancelEnabled" (click)="onCancel()">Cancelar</p-button>
      </div>
    </form>
  }
  @case (true) {
    <assoc-library-admin-list-selection heading="Autor" [data]="selection()" (choose)="onSelect($event)"
      (goToPage)="goToSelectionPage.emit($event)" [nameRenderer]="nameRenderer" />
  }
}