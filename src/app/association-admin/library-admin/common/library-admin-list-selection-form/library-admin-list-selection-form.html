@switch (selecting) {
  @case (false) {
    <form [formGroup]="form" (ngSubmit)="onSave()" class="needs-validation" novalidate>
      <p-table dataKey="number" selectionMode="single" [value]="rows">
        <ng-template #header>
          <tr>
            <th scope="col">
            </th>
            <th>Nombre</th>
          </tr>
        </ng-template>
        <ng-template #body let-row>
          <tr>
            <td>
              <p-button icon="pi pi-trash" severity="danger" aria-label="Borrar" (click)="onRemove(row)" rounded text />
            </td>
            <td>{{nameRenderer(row)}}</td>
          </tr>
        </ng-template>
      </p-table>
      <div uiJustifyCenter>
        <p-button icon="pi pi-plus" aria-label="Borrar" (click)="onStartSelecting()" aria-label="Add row" rounded text />
      </div>
      <div uiJustifyBetween>
        <!-- Save button -->
        <p-button type="submit" name="Guardar" [disabled]="!saveEnabled"
          [attr.aria-disabled]="!saveEnabled">Guardar</p-button>
        <!-- Cancel button -->
        <p-button type="button" severity="danger" name="Cancelar" [disabled]="!cancelEnabled"
          [attr.aria-disabled]="!cancelEnabled" (click)="onCancel()">Cancelar</p-button>
      </div>
    </form>
  }
  @case (true) {
    <assoc-library-admin-list-selection heading="Nombre" [data]="selection()" (choose)="onSelect($event)"
      (goToPage)="goToSelectionPage.emit($event)" [nameRenderer]="nameRenderer" />
  }
}