<div uiResponsiveShortColumns>
  @if (editing) {
    <!-- Form -->
    @switch (view) {
      @case ('details') {
        <p-card>
          <assoc-library-admin-game-book-edition-form [data]="data" [waiting]="saving" [failures]="failures"
            [readonly]="!formEnabled" [cancellable]="true" [languages]="languages"
            [bookTypesSelection]="bookTypesSelection" [gameSystemsSelection]="gameSystemsSelection"
            [authorsSelection]="authorsSelection" [publishersSelection]="publishersSelection"
            (save)="onSave($event)" (reject)="onCancel()" (goToBookTypePage)="onGoToBookTypePage($event)"
            (goToGameSystemPage)="onGoToGameSystemPage($event)" (goToAuthorPage)="onGoToAuthorPage($event)"
            (goToPublisherPage)="onGoToPublisherPage($event)" />
        </p-card>
      }
      @case ('donors') {
        <p-card>
          <assoc-library-admin-book-donors-form [data]="donation" [waiting]="saving" [failures]="failures"
            [readonly]="!formEnabled" [cancellable]="true" [donors]="donorPage" (save)="onSetDonation($event)"
            (reject)="onCancel()" (goToDonorPage)="onGoToDonorPage($event)" />
        </p-card>
      }
    }
  } @else {
    <!-- Info -->
    <assoc-library-admin-game-book-details [data]="data" [showMenu]="showMenu" [editEnabled]="editEnabled"
      [waiting]="waiting" [deletable]="deletable" [editable]="editable" [lendDisabled]="lendDisabled"
      [languages]="languages" (delete)="onDelete()"
    (startEditing)="onStartEditingView($event)" />
  }
</div>