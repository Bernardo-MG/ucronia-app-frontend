<p-menu #feeCreationMenu [model]="creationItems" [popup]="true" />
<div class="row pb-2">
  <div class="col-md-2 offset-md-5 pb-2">
    <p-card>
      <ng-template #title>
        Pagos de cuotas
      </ng-template>
      <assoc-fee-payment-chart />
    </p-card>
  </div>
</div>
<div class="row">
  <!-- Fee calendar -->
  <div uiResponsiveShortColumns>
    <p-panel>
      <ng-template #icons>
        <p-button icon="pi pi-plus-circle" severity="secondary" (click)="feeCreationMenu.toggle($event);"
          [disabled]="!createable" aria-label="Nuevo libro" [attr.aria-disabled]="!createable" rounded text />
      </ng-template>
      <ng-template #header>
        <div class="row">
          <div class="col-sm-9">
            <!-- Status selector -->
            <div uiJustifyEnd>
              <assoc-member-status-select [disabled]="readingCalendar" (changeStatus)="onChangeActiveFilter($event)" />
            </div>
          </div>
        </div>
      </ng-template>
      <!-- Calendar -->
      <assoc-fee-calendar [range]="range" [waiting]="readingCalendar" [feeCalendar]="feeCalendar"
        (goToYear)="onGoToYear($event)" />
    </p-panel>
  </div>
</div>
<p-drawer [(visible)]="editing" position="right">
  @switch (view) {
    @case ('create') {
      <assoc-fee-create></assoc-fee-create>
    }
    @case ('pay') {
      <assoc-fee-pay></assoc-fee-pay>
    }
  }
</p-drawer>