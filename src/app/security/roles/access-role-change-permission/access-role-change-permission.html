@if(!choosingPermission) {
  <!-- Permissions -->
  <p-table lazy="true" dataKey="name" [loading]="loading" [value]="assignedPermissions.content" paginator="true"
    [rows]="assignedPermissions.size" [totalRecords]="assignedPermissions.totalElements" [first]="firstRolePermission"
    (onPage)="onPermissionsPageChange($event)" showCurrentPageReport="true"
    currentPageReportTemplate="Total: {totalRecords}">
    <ng-template #header>
      <tr>
        <th></th>
        <th>Recurso</th>
        <th>Acci√≥n</th>
      </tr>
    </ng-template>
    <ng-template #body let-permission>
      <tr>
        <td>
          <button (click)="onRemovePermission(permission)" type="button" class="btn btn-link link-dark" role="button"
            aria-label="Back">
            <span class="pi pi-trash"></span>
          </button>
        </td>
        <td>{{permission.resource}}</td>
        <td>{{permission.action}}</td>
      </tr>
    </ng-template>
  </p-table>
  <div class="d-grid">
    <p-button icon="pi pi-plus" aria-label="Borrar" (click)="choosingPermission=true" aria-label="Add row" rounded text />
  </div>
} @else {
  <!-- Modal for picking permissions -->
  <access-role-add-permission [permissions]="permissionsSelection" [loading]="loading" (goTo)="onLoadPermissions($event)"
    (changeDirection)="onChangePermissionsDirection($event)" (addPermission)="onAddPermission($event)" />
}