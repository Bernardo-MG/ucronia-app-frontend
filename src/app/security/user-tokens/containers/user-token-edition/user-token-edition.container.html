<div uiResponsiveShortColumns>
  <p-card>
    <access-user-token-info [failures]="failures" [data]="data" [loading]="waiting" />
    <ng-template #footer>
      <!-- Extend expiration button -->
      <button type="submit" name="Extend expiration" class="btn btn-primary" [uiWaiting]="waiting"
        [disabled]="!editEnabled" [attr.aria-disabled]="!editEnabled" data-bs-toggle="modal"
        [attr.data-bs-target]="editEnabled ? '#extendExpirationModal' : ''">Extender
        expiración</button>
    </ng-template>
  </p-card>
  <p-card>
    <access-user-token-status [data]="data" [loading]="waiting" />
    <ng-template #footer>
      <!-- Revoke button -->
      <button type="submit" name="Revoke" class="btn btn-primary" [uiWaiting]="waiting" [disabled]="!editEnabled"
        [attr.aria-disabled]="!editEnabled" data-bs-toggle="modal"
        [attr.data-bs-target]="editEnabled ? '#revokeModal' : ''">Revocar</button>
    </ng-template>
  </p-card>
</div>

<!-- Modal for extending expiration -->
<ui-modal name="extendExpirationModal" title="Extender expiración" acceptText="Extender"
  (accept)="onExtendExpiration()">
  <p>Elige una nueva fecha</p>
  <form [formGroup]="extendExpirationForm" (ngSubmit)="onExtendExpiration()" class="needs-validation" novalidate>
    <input type="datetime-local" id="extendExpirationInput" class="form-control" formControlName="expirationDate">
  </form>
</ui-modal>

<!-- Modal confirmation for revoking -->
<ui-modal name="revokeModal" title="Revocar token" acceptText="Revocar" (accept)="onRevoke()">
  <p>¿Estás seguro de que quieres revocar el token?</p>
  <p class="text-warning"><small>Esta acción no se puede deshacer.</small></p>
</ui-modal>